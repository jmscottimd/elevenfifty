{"version":3,"sources":["app.js","components/sign-in.js","components/sign-up.js","components/user-links.js","notes/notes.js","services/auth-interceptor.js","services/auth-token.js","services/current-user.js","services/notes-service.js","services/users-service.js","users/users.js"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":["(function() {\r\n  var app = angular.module('notely', [\r\n    'ui.router',\r\n    'notely.notes'\r\n  ]);\r\n\r\n  function config($urlRouterProvider) {\r\n  \t// notes-form is the default\r\n    $urlRouterProvider.otherwise('/notes/');\r\n  }\r\n\r\n  config['$inject'] = ['$urlRouterProvider'];\r\n  app.config(config);\r\n\r\n  app.constant('API_BASE' , 'http://localhost:3000/api/v1/');\r\n})();\r\n","angular.module('notely')\r\n.directive('signIn', ['$state', 'UsersService', ($state, UsersService) => {\r\n\r\n  class SignInController {\r\n\r\n    constructor() {\r\n      this.user = {};\r\n    }\r\n\r\n    login() {\r\n      UsersService.login(this.user).then(function(response) {\r\n      \t $state.go('notes.form', {noteId: undefined });\r\n      });\r\n     \r\n    }\r\n  }\r\n\r\n  return {\r\n    scope: {},\r\n    controller: SignInController,\r\n    controllerAs: 'ctrl',\r\n    bindToController: true,\r\n    templateUrl: '/components/sign-in.html'\r\n  };\r\n}]);","angular.module('notely')\r\n    // new anon function syntax () =>\r\n    .directive('signUp', ['$state', 'UsersService', ($state, UsersService) => {\r\n\r\n        class SignUpController {\r\n            constructor() {\r\n                this.user = {};\r\n            }\r\n\r\n            submit() {\r\n                UsersService.create(this.user).then(function(response) {\r\n                    $state.go('notes.form', {\r\n                        noteId: undefined\r\n                    });\r\n                });\r\n\r\n            }\r\n        }\r\n        return {\r\n            scope: {},\r\n            controller: SignUpController,\r\n            controllerAs: 'ctrl',\r\n            bindToController: true,\r\n            templateUrl: '/components/sign-up.html'\r\n        };\r\n    }]);\r\n","angular.module('notely')\r\n.directive('userLinks', () => {\r\n\r\n  class UserLinksController {\r\n    constructor($state, CurrentUser, AuthToken) {\r\n      this.$state = $state;\r\n      this.CurrentUser = CurrentUser;\r\n      this.AuthToken = AuthToken;\r\n    }\r\n\r\n    user() {\r\n      return this.CurrentUser.get();\r\n    }\r\n\r\n    signedIn() {\r\n      return !!(this.user()._id);\r\n    }\r\n\r\n    logout() {\r\n      this.CurrentUser.clear();\r\n      this.AuthToken.clear();\r\n      this.$state.go('sign-in');\r\n    }\r\n  }\r\n  UserLinksController.$inject = ['$state', 'CurrentUser', 'AuthToken'];\r\n\r\n  return {\r\n    scope: {},\r\n    controller: UserLinksController,\r\n    controllerAs: 'ctrl',\r\n    bindToController: true,\r\n    template: `\r\n      <div class=\"user-links\">\r\n        <div ng-show=\"ctrl.signedIn()\">\r\n          Signed in as {{ ctrl.user().name }}\r\n          |\r\n          <a href=\"#\" ng-click=\"ctrl.logout()\">Logout</a>\r\n        </div>\r\n      </div>\r\n    `\r\n  };\r\n\r\n});","(function() {\r\n\r\n    angular.module('notely.notes', [\r\n            'ui.router',\r\n            'textAngular'\r\n        ])\r\n        .config(notesConfig);\r\n\r\n    notesConfig['$inject'] = ['$stateProvider'];\r\n\r\n    function notesConfig($stateProvider) {\r\n        $stateProvider\r\n            .state('notes', {\r\n                url: '/notes',\r\n                resolve: {\r\n                    notesLoaded: [\r\n                        '$state',\r\n                        '$q',\r\n                        '$timeout',\r\n                        'NotesService',\r\n                        'CurrentUser',\r\n                        function($state, $q, $timeout, NotesService, CurrentUser) {\r\n                            let deferred = $q.defer();\r\n                            $timeout(function() {\r\n                                if (CurrentUser.isSignedIn()) {\r\n                                    NotesService.fetch().then(\r\n                                        function() {\r\n                                            deferred.resolve();\r\n                                        },\r\n                                        function() {\r\n                                            deferred.reject();\r\n                                            $state.go('sign-in');\r\n                                        }\r\n                                    );\r\n                                } else {\r\n                                    deferred.reject();\r\n                                    $state.go('sign-in');\r\n                                }\r\n                            });\r\n                            return deferred.promise;\r\n                        }\r\n                    ]\r\n                },\r\n                templateUrl: '/notes/notes.html',\r\n                controller: NotesController\r\n            })\r\n\r\n        .state('notes.form', {\r\n            url: '/:noteId',\r\n            templateUrl: '/notes/notes-form.html',\r\n            controller: NotesFormController\r\n        });\r\n    }\r\n\r\n    NotesController.$inject = ['$state', '$scope', 'NotesService'];\r\n\r\n    function NotesController($state, $scope, NotesService) {\r\n        $scope.note = {};\r\n        $scope.notes = NotesService.get();\r\n    }\r\n\r\n    NotesFormController.$inject = ['$scope', '$state', 'NotesService'];\r\n\r\n    function NotesFormController($scope, $state, NotesService) {\r\n        $scope.note = NotesService.findById($state.params.noteId);\r\n\r\n        $scope.save = function() {\r\n            // Decide whether to call create or update...\r\n            if ($scope.note._id) {\r\n                NotesService.update($scope.note).then(function(response) {\r\n                    $scope.note = angular.copy(response.data.note);\r\n                });\r\n            } else {\r\n                NotesService.create($scope.note).then(function(response) {\r\n                    $state.go('notes.form', {\r\n                        noteId: response.data.note._id\r\n                    });\r\n                });\r\n            }\r\n        };\r\n\r\n        $scope.delete = function() {\r\n            NotesService.delete($scope.note).then(function() {\r\n                $state.go('notes.form', {\r\n                    noteId: undefined\r\n                });\r\n            });\r\n        };\r\n    }\r\n})();\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//\r\n","angular.module('notely')\r\n    .factory('AuthInterceptor', ['AuthToken', 'API_BASE',\r\n        function(AuthToken, API_BASE) {\r\n            return {\r\n                request: function(config) {\r\n                    var token = AuthToken.get();\r\n                    if (token && config.url.indexOf(API_BASE) > -1) {\r\n                        config.headers['Authorization'] = token;\r\n                    }\r\n                    return config;\r\n                }\r\n            };\r\n        }\r\n    ]);\r\n\r\nangular.module('notely')\r\n    .config(['$httpProvider', function($httpProvider) {\r\n        return $httpProvider.interceptors.push('AuthInterceptor');\r\n    }]);\r\n","angular.module('notely')\r\n  .service('AuthToken', ['$window', ($window) => {\r\n\r\n    class AuthToken {\r\n      constructor() {\r\n        this.authToken = $window.localStorage.getItem('authToken');\r\n      }\r\n      set(token) {\r\n        this.authToken = token;\r\n        $window.localStorage.setItem('authToken', this.authToken);\r\n      }\r\n      get() {\r\n        return this.authToken;\r\n      }\r\n      clear() {\r\n        this.authToken = undefined;\r\n        $window.localStorage.removeItem('authToken');\r\n      }\r\n    }\r\n    return new AuthToken();\r\n  }]);","angular.module('notely')\r\n  .service('CurrentUser', ['$window', ($window) => {\r\n\r\n    class CurrentUser {\r\n      constructor() {\r\n        this.currentUser = JSON.parse(\r\n          $window.localStorage.getItem('currentUser')\r\n        );\r\n      }\r\n\r\n      set(user) {\r\n        this.currentUser = user;\r\n        $window.localStorage.setItem(\r\n          'currentUser',\r\n          JSON.stringify(this.currentUser)\r\n        );\r\n      }\r\n\r\n      get() {\r\n        return this.currentUser || {};\r\n      }\r\n\r\n      clear() {\r\n        this.currentUser = undefined;\r\n        $window.localStorage.removeItem('currentUser');\r\n      }\r\n\r\n      isSignedIn() {\r\n        return !! (this.get()._id);\r\n      }\r\n    }\r\n    return new CurrentUser();\r\n\r\n  }]);","// reusable objects things that will always load\r\nangular.module('notely')\r\n    .service('NotesService', NotesService);\r\n\r\n//NotesService\r\n//handle crud operations against the server.\r\nNotesService.$inject = ['$http', 'API_BASE'];\r\n\r\nfunction NotesService($http, API_BASE) {\r\n    var self = this;\r\n    self.notes = [];\r\n\r\n    //get all notets from server\r\n    self.fetch = function(callback) {\r\n        return $http.get(API_BASE + 'notes')\r\n            .then(\r\n                // success callback\r\n                function(response) {\r\n                    self.notes = response.data;\r\n                },\r\n                // failure callback\r\n                function(response) {\r\n                    // TODO: handle failure\r\n                }\r\n            );\r\n    };\r\n    // return all notes\r\n    self.get = function() {\r\n        return self.notes;\r\n    };\r\n    // return a note by note id\r\n    self.findById = function(noteId) {\r\n        // look through 'self.notes' for a note with a matching  _id.\r\n        for (var i = 0; i < self.notes.length; i++) {\r\n            if (self.notes[i]._id === noteId) {\r\n                // return copy for editing purposes\r\n                return angular.copy(self.notes[i]);\r\n            }\r\n        }\r\n        return {};\r\n    };\r\n\r\n    //save a note\r\n    self.create = function(note) {\r\n        var noteCreatePromise = $http.post(API_BASE + 'notes', {\r\n            note: note\r\n        });\r\n        noteCreatePromise.then(function(response) {\r\n            self.notes.unshift(response.data.note);\r\n        });\r\n\r\n        return noteCreatePromise;\r\n\r\n    };\r\n    self.update = function(note) {\r\n        var noteUpdatePromise = $http.put(API_BASE + 'notes/' + note._id, {\r\n            note: {\r\n                title: note.title,\r\n                body_html: note.body_html\r\n            }\r\n        });\r\n        noteUpdatePromise.then(function(response) {\r\n            self.replaceNote(response.data.note);\r\n        });\r\n        return noteUpdatePromise;\r\n    };\r\n\r\n    self.replaceNote = function(note) {\r\n        // return a note by note id\r\n        // look through 'self.notes' for a note with a matching  _id.\r\n        for (var i = 0; i < self.notes.length; i++) {\r\n            if (self.notes[i]._id === note._id) {\r\n                self.notes[i] = note;\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    self.delete = function(note) {\r\n        var noteDeletePromise = $http.delete(API_BASE + 'notes/' + note._id);\r\n        noteDeletePromise.then(function(response) {\r\n            self.remove(response.data.note);\r\n\r\n        });\r\n        return noteDeletePromise;\r\n    };\r\n    self.remove = function(note) {\r\n        for (var i = 0; i < self.notes.length; i++) {\r\n            if (self.notes[i]._id === note._id) {\r\n                self.notes.splice(i, 1);\r\n                break;\r\n            }\r\n        };\r\n    }\r\n}\r\n","angular.module('notely')\r\n  .service('UsersService', [\r\n    '$http', 'API_BASE', 'AuthToken', 'CurrentUser',\r\n     ($http, API_BASE, AuthToken, CurrentUser) => {\r\n    class UsersService {\r\n      create(user) {\r\n        let userPromise = $http.post(`${API_BASE}users`, {\r\n          user: user\r\n        });\r\n        userPromise.then((response) => {\r\n          AuthToken.set(response.data.auth_token);\r\n          CurrentUser.set(response.data.user);\r\n        });\r\n        return userPromise;\r\n      }\r\n\r\n      login(user) {\r\n        let loginPromise = $http.post(`${API_BASE}sessions`, {\r\n          user: user\r\n        });\r\n        loginPromise.then((response) => {\r\n          AuthToken.set(response.data.auth_token);\r\n          CurrentUser.set(response.data.user);\r\n        });\r\n        return loginPromise;\r\n      }\r\n    }\r\n    return new UsersService();\r\n\r\n  }]);","(function() {\r\n  angular.module('notely')\r\n  .config(usersConfig);\r\n\r\n  usersConfig.$inject = ['$stateProvider'];\r\n  function usersConfig ($stateProvider) {\r\n    $stateProvider\r\n      .state('sign-up', {\r\n        url: '/sign-up',\r\n        template: '<sign-up></sign-up>'\r\n      })\r\n\r\n      .state('sign-in', {\r\n        url: '/sign-in',\r\n        template: '<sign-in></sign-in>'\r\n      });\r\n  };\r\n})();\r\n\r\n"],"sourceRoot":"/source/"}